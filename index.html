<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Responsive 360째 Exhibit with Centered Text</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Load Open Sans from Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
  <!-- Include Panellum CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.css">
  <style>
    /* Global resets, font and background */
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Open Sans', sans-serif;
      background: #000;
      overflow-y: hidden; /* Disable vertical scroll */
    }
    /* Enable horizontal scrolling for rotation */
    body {
      width: 200vw;  /* Extra horizontal space */
      height: 100vh;
      overflow-x: scroll;
    }
    @media (orientation: portrait) {
      body {
        width: 150vw; /* Slightly less horizontal scroll for portrait */
      }
    }
    
    /* Panorama container: fills the viewport but constrained to device dimensions */
    #panorama {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      max-width: 100vw;
      max-height: 100vh;
    }
    
    /* Centered Text Overlay with limited width for readability */
    #textOverlay {
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      pointer-events: none; /* Allow interactions with the panorama */
      text-align: left;
      color: #fff;
      max-width: 400px; /* Limit container width */
      padding: 20px; /* Add some padding for better readability */
    }
    
    /* Title: "Mutanza" (left-aligned) */
    #textOverlay .title {
      font-size: 3em;
      font-weight: bold;
      margin-bottom: 1em;
      text-shadow: 2px 2px 5px rgba(0,0,0,0.7);
    }
    
    /* First lorem ipsum paragraph: 12px */
    #textOverlay .intro {
      font-size: 12px;
      margin: 0.5em 0;
      text-shadow: 2px 2px 5px rgba(0,0,0,0.7);
    }
    
    /* Next four lorem ipsum paragraphs: 14px */
    #textOverlay .body {
      font-size: 14px;
      margin: 0.5em 0;
      text-shadow: 2px 2px 5px rgba(0,0,0,0.7);
    }
    
    /* Responsive text sizing for small screens */
    @media (max-width: 600px) {
      #textOverlay .title {
        font-size: 2.5em;
      }
      #textOverlay .intro {
        font-size: 11px;
      }
      #textOverlay .body {
        font-size: 13px;
      }
    }
  </style>
</head>
<body>
  <!-- 360째 Panorama Container -->
  <div id="panorama"></div>
  
  <!-- Centered Text Overlay -->
  <div id="textOverlay">
    <div class="title">Mutanza</div>
    <p class="intro">
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam
    </p>
    <br>
    <p class="body">
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
    </p>
    <p class="body">
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
    </p>
    <p class="body">
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
    </p>
    <p class="body">
      Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
    </p>
  </div>
  
  <!-- Include Panellum JS -->
  <script src="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.js"></script>
  <script>
    // Initialize Panellum viewer with your 360째 image
    var viewer = pannellum.viewer('panorama', {
      "type": "equirectangular",
      "panorama": "/assets/test3.jpg",  // Your 360 image path
      "autoLoad": true,
      "autoRotate": 0,
      "yaw": 0,
      "pitch": 0,
      "hfov": 110,
      "multiRes": false  // Use single resolution to mitigate "too big" errors on some devices
    });
    
    // Map horizontal scroll to panorama rotation (0 to 360째)
    window.addEventListener("scroll", function() {
      var scrollPos = window.scrollX;
      var maxScroll = document.body.scrollWidth - window.innerWidth;
      var newYaw = (scrollPos / maxScroll) * 360;
      viewer.setYaw(newYaw);
    });
  </script>
</body>
</html>
